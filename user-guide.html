<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B737 Fuel Calculator - User Guide</title>
    <style>
        @page {
            size: A4;
            margin: 20mm;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            font-size: 11pt;
            line-height: 1.5;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #2c3e50;
            padding-bottom: 10px;
            font-size: 24pt;
            margin-top: 0;
        }

        h2 {
            color: #34495e;
            border-bottom: 1px solid #bdc3c7;
            padding-bottom: 5px;
            margin-top: 25px;
            font-size: 14pt;
            page-break-after: avoid;
        }

        h3 {
            color: #7f8c8d;
            margin-top: 20px;
            font-size: 12pt;
            page-break-after: avoid;
        }

        .header-info {
            background-color: #ecf0f1;
            padding: 10px 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            font-size: 10pt;
        }

        .header-info strong {
            color: #2c3e50;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 10pt;
            page-break-inside: avoid;
        }

        th, td {
            border: 1px solid #bdc3c7;
            padding: 8px 10px;
            text-align: left;
        }

        th {
            background-color: #2c3e50;
            color: white;
            font-weight: 600;
        }

        tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        .color-box {
            display: inline-block;
            width: 14px;
            height: 14px;
            border-radius: 3px;
            vertical-align: middle;
            margin-right: 5px;
            border: 1px solid #999;
        }

        .color-green { background-color: #00FF00; }
        .color-red { background-color: #ff4444; }
        .color-gray { background-color: #888888; }
        .color-white { background-color: #ffffff; }

        code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 10pt;
        }

        .step {
            background-color: #f8f9fa;
            border-left: 4px solid #3498db;
            padding: 10px 15px;
            margin: 10px 0;
        }

        .step-number {
            display: inline-block;
            background-color: #3498db;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            text-align: center;
            line-height: 24px;
            font-weight: bold;
            margin-right: 10px;
        }

        .warning {
            background-color: #fff3cd;
            border: 1px solid #ffc107;
            padding: 10px 15px;
            border-radius: 5px;
            margin: 15px 0;
        }

        .info {
            background-color: #d1ecf1;
            border: 1px solid #17a2b8;
            padding: 10px 15px;
            border-radius: 5px;
            margin: 15px 0;
        }

        .error-box {
            background-color: #f8d7da;
            border: 1px solid #dc3545;
            padding: 10px 15px;
            border-radius: 5px;
            margin: 10px 0;
        }

        .success-box {
            background-color: #d4edda;
            border: 1px solid #28a745;
            padding: 10px 15px;
            border-radius: 5px;
            margin: 10px 0;
        }

        .footer {
            margin-top: 30px;
            padding-top: 15px;
            border-top: 1px solid #bdc3c7;
            font-size: 9pt;
            color: #7f8c8d;
            text-align: center;
        }

        ul, ol {
            margin: 10px 0;
            padding-left: 25px;
        }

        li {
            margin: 5px 0;
        }

        .page-break {
            page-break-before: always;
        }

        @media print {
            body {
                padding: 0;
            }
            .no-print {
                display: none;
            }
        }
    </style>
</head>
<body>

    <h1>B737 Fuel Calculator</h1>
    <p style="font-size: 14pt; color: #7f8c8d; margin-top: -10px;">User Guide</p>

    <div class="header-info">
        <strong>Reference Documents:</strong> FMSM 12-11-03 | AMM-28-41-00<br>
        <strong>App URL:</strong> https://d5mys87.github.io/b737-fuel-calc/
    </div>

    <h2>Quick Start</h2>

    <div class="step">
        <span class="step-number">1</span>
        Open the app in your browser
    </div>
    <div class="step">
        <span class="step-number">2</span>
        Set <strong>Pitch</strong> and <strong>Roll</strong> in the Settings panel
    </div>
    <div class="step">
        <span class="step-number">3</span>
        For each tank: uncheck "Mark EMPTY", enter estimated fuel, select stick and reading
    </div>
    <div class="step">
        <span class="step-number">4</span>
        View the total fuel on the cockpit display
    </div>

    <h2>Installation (Optional)</h2>
    <p>This app can be installed on your device for quick access and offline use:</p>

    <table>
        <tr>
            <th>Platform</th>
            <th>How to Install</th>
        </tr>
        <tr>
            <td><strong>Android</strong></td>
            <td>Tap "Install App" banner or Menu → "Add to Home Screen"</td>
        </tr>
        <tr>
            <td><strong>iOS (Safari)</strong></td>
            <td>Tap Share → "Add to Home Screen"</td>
        </tr>
        <tr>
            <td><strong>Desktop (Chrome/Edge)</strong></td>
            <td>Click install icon in address bar</td>
        </tr>
    </table>

    <h2>Using the App</h2>

    <h3>Step 1: Configure Settings</h3>
    <p>At the top of the app, set:</p>
    <ul>
        <li><strong>Pitch</strong> – Select the aircraft pitch angle (default: Pitch K)</li>
        <li><strong>Roll</strong> – Select the aircraft roll angle (default: 10.0)</li>
    </ul>

    <h3>Step 2: Enter Fuel Data for Each Tank</h3>
    <p>The app has three tabs: <strong>Left Wing</strong>, <strong>Center</strong>, and <strong>Right Wing</strong>.</p>

    <p>For each tank:</p>
    <ol>
        <li><strong>Mark EMPTY checkbox</strong> – Check if tank is empty, uncheck to enter readings</li>
        <li><strong>Est. (Estimated Fuel)</strong> – Enter expected fuel quantity in kg</li>
        <li><strong>Stick Selection</strong> – Choose the measurement stick used</li>
        <li><strong>Reading</strong> – Select the reading from your fuel stick measurement</li>
    </ol>

    <h3>Step 3: View Results</h3>
    <p>The <strong>cockpit display</strong> at the top shows individual tank quantities and total fuel.</p>

    <h2 class="page-break">Stick Recommendations</h2>

    <h3>Wing Tanks (Left/Right)</h3>
    <table>
        <tr>
            <th>Fuel Range (kg)</th>
            <th>Recommended Stick</th>
        </tr>
        <tr><td>0 – 623</td><td>Below Limit</td></tr>
        <tr><td>623 – 1,680</td><td>Use Stick 3</td></tr>
        <tr><td>1,680 – 2,673</td><td>Use Stick 4</td></tr>
        <tr><td>2,673 – 3,132</td><td>Use Stick 5</td></tr>
        <tr><td>3,132 – 3,491</td><td>Use Stick 6</td></tr>
        <tr><td>3,491 – 3,790</td><td>Use Stick 7</td></tr>
        <tr><td>3,790 – 7,974</td><td>Use Stick 8</td></tr>
        <tr><td>7,974 – 13,902</td><td>Use Stick 8 (+1)</td></tr>
        <tr><td>&gt; 13,902</td><td>Full / Over Limit</td></tr>
    </table>

    <h3>Center Tank</h3>
    <table>
        <tr>
            <th>Fuel Range (kg)</th>
            <th>Recommended Stick</th>
        </tr>
        <tr><td>0 – 500</td><td>Below Limit</td></tr>
        <tr><td>500 – 2,500</td><td>Use Stick 1</td></tr>
        <tr><td>&gt; 2,500</td><td>Use Stick 2</td></tr>
    </table>

    <h2>Understanding the Display</h2>

    <h3>Cockpit Display Colors</h3>
    <table>
        <tr>
            <th>Color</th>
            <th>Meaning</th>
        </tr>
        <tr>
            <td><span class="color-box color-green"></span> Green total</td>
            <td>All readings verified within limits</td>
        </tr>
        <tr>
            <td><span class="color-box color-red"></span> Red total (pulsing)</td>
            <td>One or more tanks have variance exceeding limits</td>
        </tr>
        <tr>
            <td><span class="color-box color-gray"></span> Gray total</td>
            <td>No fuel (all tanks empty)</td>
        </tr>
        <tr>
            <td><span class="color-box color-red"></span> Red tank value</td>
            <td>That specific tank has a variance alert</td>
        </tr>
        <tr>
            <td><span class="color-box color-white"></span> White tank value</td>
            <td>Tank reading is verified or empty</td>
        </tr>
    </table>

    <h3>Display Border</h3>
    <table>
        <tr>
            <th>Border Color</th>
            <th>Meaning</th>
        </tr>
        <tr>
            <td>Gray border</td>
            <td>Normal operation</td>
        </tr>
        <tr>
            <td>Red border with glow</td>
            <td>Variance alert active – investigate discrepancy</td>
        </tr>
    </table>

    <h2 class="page-break">Messages and Alerts</h2>

    <h3>Success Messages</h3>
    <div class="success-box">
        <strong>✅ Verified: X kg</strong><br>
        The calculated fuel matches your estimate within acceptable limits.
    </div>

    <h3>Information Messages</h3>
    <div class="info">
        <strong>[Tank] Tank = 0 Kgs</strong><br>
        Tank is marked as empty.
    </div>

    <h3>Warning Messages</h3>
    <div class="warning">
        <strong>No data for Roll X</strong><br>
        No database entries exist for the selected roll angle with current settings. Try a different roll value.
    </div>
    <div class="warning">
        <strong>No match found</strong><br>
        The combination of stick, pitch, roll, and reading doesn't exist in the database. Verify your selections.
    </div>

    <h3>Error Messages</h3>
    <div class="error-box">
        <strong>⚠️ VARIANCE &gt; 160 KGS</strong> (Wing tanks)<br>
        The difference between your estimated fuel and the calculated fuel exceeds 160 kg.<br>
        <em>Possible causes:</em> Incorrect stick reading, wrong pitch/roll setting, measurement error, or actual fuel discrepancy.
    </div>
    <div class="error-box">
        <strong>⚠️ VARIANCE &gt; 520 KGS</strong> (Center tank)<br>
        The difference between your estimated fuel and the calculated fuel exceeds 520 kg.<br>
        <em>Possible causes:</em> Incorrect stick reading, wrong pitch/roll setting, measurement error, or actual fuel discrepancy.
    </div>

    <h2>Variance Limits</h2>
    <p>The app compares your estimated fuel quantity against the calculated value from the database:</p>

    <table>
        <tr>
            <th>Tank Type</th>
            <th>Maximum Allowed Variance</th>
        </tr>
        <tr>
            <td>Wing Tanks (Left/Right)</td>
            <td>160 kg</td>
        </tr>
        <tr>
            <td>Center Tank</td>
            <td>520 kg</td>
        </tr>
    </table>

    <p><strong>When variance is exceeded:</strong></p>
    <ul>
        <li>The calculated value still appears in the totalizer (shown in red)</li>
        <li>The error message shows both calculated and estimated values</li>
        <li>Investigate the discrepancy before proceeding</li>
    </ul>

    <h2>Troubleshooting</h2>

    <table>
        <tr>
            <th>Problem</th>
            <th>Solution</th>
        </tr>
        <tr>
            <td>"No data" shown for readings</td>
            <td>Check Pitch and Roll settings. Try a different roll value.</td>
        </tr>
        <tr>
            <td>App not loading</td>
            <td>Check internet connection (first load requires internet). Refresh the page.</td>
        </tr>
        <tr>
            <td>Installed app showing old version</td>
            <td>Open DevTools (F12) → Application → Storage → "Clear site data"</td>
        </tr>
    </table>

    <div class="footer">
        <strong>Disclaimer:</strong> This tool is for reference only. Always follow official aircraft documentation and procedures for fuel quantity verification.<br><br>
        B737 Fuel Calculator | https://d5mys87.github.io/b737-fuel-calc/
    </div>

</body>
</html>
